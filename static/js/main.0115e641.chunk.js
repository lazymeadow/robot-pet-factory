(this["webpackJsonprobot-pets"]=this["webpackJsonprobot-pets"]||[]).push([[0],{14:function(e,t,n){},15:function(e,t,n){},17:function(e,t,n){"use strict";n.r(t);var r=n(2),c=n(9),i=n.n(c),s=(n(14),n(3)),a=(n(15),n(0));function o(){return Object(a.jsx)(X.Consumer,{children:function(e){var t=e.showFactory,n=e.showKennel;return Object(a.jsxs)("div",{className:"overview",children:[Object(a.jsxs)("div",{children:[Object(a.jsx)("h2",{children:"Factory"}),Object(a.jsxs)("ul",{children:[Object(a.jsx)("li",{children:"Interesting Stats"}),Object(a.jsx)("li",{children:"What are they"})]}),Object(a.jsx)("button",{onClick:t,children:"Go to Factory"})]}),Object(a.jsxs)("div",{children:[Object(a.jsx)("h2",{children:"Pet Kennel"}),Object(a.jsxs)("ul",{children:[Object(a.jsx)("li",{children:"Interesting Stats"}),Object(a.jsx)("li",{children:"What are they"})]}),Object(a.jsx)("button",{onClick:n,children:"Go to Pets"})]})]})}})}function u(e){var t=e.tabsContent,n=e.mainContent;return Object(a.jsxs)("div",{className:"two-panel",children:[Object(a.jsx)("div",{className:"tabs-panel",children:t}),Object(a.jsx)("div",{className:"main-panel",children:n})]})}var l=Object(r.createContext)();function d(e){var t=e.children,n=e.defaultTabKey,c=Object(r.useState)(n),i=Object(s.a)(c,2),o=i[0],u=i[1];return Object(a.jsx)(l.Provider,{value:{currentTab:o,setCurrentTab:u,isCurrentTab:function(e){return o===e}},children:t})}function j(e){var t=e.children;return Object(a.jsx)("div",{className:"tabs-container",children:t})}function b(e){var t=e.children,n=e.tabKey;return Object(a.jsx)(l.Consumer,{children:function(e){var r=e.isCurrentTab,c=e.setCurrentTab;return Object(a.jsx)("div",{className:"tab".concat(r(n)?" current":""),role:"button",onClick:r(n)?null:function(){return c(n)},children:t})}})}function h(e){var t=e.children,n=e.tabKey;return Object(a.jsx)(l.Consumer,{children:function(e){return(0,e.isCurrentTab)(n)&&Object(a.jsx)("div",{className:"tab-content",children:t})}})}var O=n(7),f=n(1),p=n(6),v=function e(t,n){var r=this,c=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0,i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:1,s=arguments.length>4&&void 0!==arguments[4]?arguments[4]:0;Object(p.a)(this,e),this.isVisible=function(e){return r.dependencies.reduce((function(t,n){return t&&K(e,n)}),!K(e,r))},this.id=(e.upgradeCount++).toString().padStart(8,"0"),this.name=t,this.description=n,this.clickIncrement=c,this.clickMultiplier=i,this.cost=s,this.dependencies=[]};v.upgradeCount=0,v.newFreeIncrementUpgrade=function(e,t,n){return new v(e,t,n,1,0)},v.newIncrementUpgrade=function(e,t,n,r){return new v(e,t,n,1,r)},v.newMultiplierUpgrade=function(e,t,n,r){return new v(e,t,0,n,r)},v.newFeatureUpgrade=function(e,t,n){return new v(e,t,0,1,n)};var x=v.newFreeIncrementUpgrade("Wires","Every click makes a wire. Wires are worth 1 coin.",1),C=v.newFeatureUpgrade("Workers","You can hire robot workers to make your wires automatically.",200),m=v.newIncrementUpgrade("More Wires","Every click makes two wires.",1,100),y=v.newIncrementUpgrade("Even More Wires","Every click makes four wires.",2,500),w=v.newMultiplierUpgrade("Better Wires","Your wires are better, and are worth twice as much.",2,100),g=v.newMultiplierUpgrade("Even Better Wires","Your wires are better, and are worth four times as much.",2,500);C.dependencies=[m,w],m.dependencies=[x],y.dependencies=[m],w.dependencies=[x],g.dependencies=[w];var k=[x],K=function(e,t){return e.upgrades.findIndex((function(e){return e.id===t.id}))>=0},I=function(e){return K(e,C)},N={factory:[].concat(k,[m,y,w,g,C])},S=[],F=function(e,t){S.forEach((function(e){return window.clearInterval(e)})),S.splice(0);var n={};e.workers.forEach((function(e){n.hasOwnProperty(e.duration)||(n[e.duration]=[]),n[e.duration].push(e)}));for(var r=function(){var e=Object(s.a)(i[c],2),n=e[0],r=e[1];S.push(window.setInterval((function(){t(r.reduce((function(e,t){return e+t.clickQuantity*t.count}),0))}),n))},c=0,i=Object.entries(n);c<i.length;c++)r()},W=function e(t,n,r,c,i){var s=this;Object(p.a)(this,e),this.isVisible=function(e){return I(e)},this.id=(e.workerCount++).toString().padStart(8,"0"),this.name=t,this.description=n,this.duration=r,this.clickQuantity=c,this.cost=i,this.count=0,this.addWorker=function(){return s.count++}};W.workerCount=0;var U=new W("Mouse Droid","They don't do much, but they can make 1 wire every 3 seconds. How? You don't wanna know.",3e3,1,25),E={factory:[U]},T=Object(r.createContext)(),V="ADD_COINS",Y="AUTO_ADD_COINS",A="RECORD_CLICK",P="BUY_UPGRADE",R="BUY_WORKER",D=function(e){var t=Object(f.a)(Object(f.a)({},e),{},{upgrades:e.upgrades.map((function(e){return e.id})),workers:Object.fromEntries(e.workers.map((function(e){return[e.id,e.count]})))});localStorage.setItem("gameState",JSON.stringify(t))},M=function(){var e,t,n=JSON.parse(localStorage.getItem("gameState"));return null!==n?(n.upgrades=(e="factory",t=n.upgrades||[],N[e].filter((function(e){return t.includes(e.id)}))),n.workers=function(e,t){var n=E[e].filter((function(e){return Object.keys(t).includes(e.id)}));return n.forEach((function(e){return e.count=t[e.id]})),n}("factory",n.workers||[]),n):{totalClicks:0,totalCoins:0,lifetimeCoins:0,workers:[],upgrades:k}},B=function(e){return function(t){e({type:Y,payload:{coins:t}})}},_=function(e,t){var n,r,c,i;switch(t.type){case A:var s=e.totalClicks+1;return n=Object(f.a)(Object(f.a)({},e),{},{totalClicks:s}),D(n),n;case V:var a=e.upgrades.reduce((function(e,t){return e+t.clickIncrement}),0)*e.upgrades.reduce((function(e,t){return e*t.clickMultiplier}),1);return r=e.totalCoins+a,n=Object(f.a)(Object(f.a)({},e),{},{totalCoins:r,lifetimeCoins:e.lifetimeCoins+a}),D(n),n;case Y:var o=t.payload.coins;return r=e.totalCoins+o,n=Object(f.a)(Object(f.a)({},e),{},{totalCoins:r,lifetimeCoins:e.lifetimeCoins+o}),D(n),n;case P:if(e.upgrades.findIndex((function(e){return e.id===t.payload.id}))>=0)return e;var u=N[t.payload.type].find((function(e){return e.id===t.payload.id}));return e.totalCoins<u.cost?e:(n=Object(f.a)(Object(f.a)({},e),{},{upgrades:[].concat(Object(O.a)(e.upgrades),[u]),totalCoins:e.totalCoins-u.cost}),D(n),n);case R:var l=e.workers.find((function(e){return e.id===t.payload.id}));if(l){if(l.cost>e.totalCoins)return e;l.addWorker(),n=Object(f.a)(Object(f.a)({},e),{},{totalCoins:e.totalCoins-l.cost})}else{var d=(c=t.payload.type,i=t.payload.id,E[c].find((function(e){return e.id===i})));if(d.cost>e.totalCoins)return e;d.addWorker(),n=Object(f.a)(Object(f.a)({},e),{},{workers:[].concat(Object(O.a)(e.workers),[d]),totalCoins:e.totalCoins-d.cost}),D(n)}return n;default:return e}};function J(e){var t=e.children,n=Object(r.useReducer)(_,{},M),c=Object(s.a)(n,2),i=c[0],o=c[1];F(i,B(o));return Object(a.jsx)(T.Provider,{value:Object(f.a)(Object(f.a)({},i),{},{recordClick:function(){return o({type:A})},addCoins:function(){return o({type:V})},buyUpgrade:function(e,t){return o({type:P,payload:{type:e,id:t}})},buyWorker:function(e,t){o({type:R,payload:{type:e,id:t}}),F(i,B(o))},getAvailableUpgrades:function(e){return N[e].filter((function(e){return e.purchased=i.upgrades.findIndex((function(t){return t.id===e.id}))>=0,e.isVisible(i)}))},getAvailableWorkers:function(e){return Object(O.a)(E[e]).filter((function(e){return e.isVisible(i)}))},canSeeWorkers:I(i)}),children:t})}function L(){return Object(a.jsx)(u,{tabsContent:Object(a.jsx)(T.Consumer,{children:function(e){var t=e.buyUpgrade,n=e.buyWorker,r=e.canSeeWorkers,c=e.getAvailableUpgrades,i=e.getAvailableWorkers,s=e.lifetimeCoins,o=e.totalClicks,u=e.totalCoins,l=c("factory"),O=i("factory");return Object(a.jsxs)(a.Fragment,{children:[Object(a.jsx)("h2",{children:"Factory"}),Object(a.jsxs)(d,{defaultTabKey:"upgrades",children:[Object(a.jsxs)(j,{children:[Object(a.jsx)(b,{tabKey:"upgrades",children:"Upgrades"}),r&&Object(a.jsx)(b,{tabKey:"workers",children:"Workers"}),Object(a.jsx)(b,{tabKey:"stats",children:"Stats"}),Object(a.jsx)(b,{tabKey:"achievements",children:"Achievements"})]}),Object(a.jsxs)(h,{tabKey:"upgrades",children:[Object(a.jsxs)("span",{children:[u," C"]}),l.map((function(e){var n="",r="";return e.purchased?(n="unavailable",r="You already have this!"):e.cost>u?(n="expensive",r="You can't buy this yet."):r="You can buy this!",Object(a.jsxs)("div",{className:"upgrade ".concat(n),role:"button",onClick:function(){return t("factory",e.id)},children:[Object(a.jsxs)("div",{className:"upgrade-title",children:[Object(a.jsx)("h3",{children:e.name}),!e.purchased&&Object(a.jsxs)("span",{children:["COST: ",e.cost," C"]})]}),Object(a.jsx)("p",{children:e.description}),Object(a.jsx)("small",{children:r})]},e.id)}))]}),Object(a.jsx)(h,{tabKey:"stats",children:Object(a.jsxs)("ul",{children:[Object(a.jsxs)("li",{children:["Click Count: ",o]}),Object(a.jsxs)("li",{children:["Total Coins Earned: ",s," C"]})]})}),Object(a.jsx)(h,{tabKey:"achievements",children:"Achivements go here"}),Object(a.jsx)(h,{tabKey:"workers",children:O.map((function(e){var t="",r="";return e.cost>u?(t="expensive",r="You can't buy this right now."):r="You can buy this!",Object(a.jsxs)("div",{className:"upgrade ".concat(t),role:"button",onClick:function(){return n("factory",e.id)},children:[Object(a.jsxs)("div",{className:"upgrade-title",children:[Object(a.jsxs)("h3",{children:[e.name," (",e.count,")"]}),Object(a.jsxs)("span",{children:["COST: ",e.cost," C"]})]}),Object(a.jsx)("p",{children:e.description}),Object(a.jsx)("small",{children:r})]},e.id)}))})]})]})}}),mainContent:Object(a.jsx)(T.Consumer,{children:function(e){var t=e.addCoins,n=e.recordClick,r=e.upgrades;return Object(a.jsxs)(a.Fragment,{children:[Object(a.jsx)("button",{className:"factory",onClick:function(){n(),t()},children:Object(a.jsx)("img",{src:"",alt:"the factory - click to make wires"})}),Object(a.jsx)("div",{children:Object(a.jsx)("ol",{children:r.map((function(e){return Object(a.jsx)("li",{children:e.name},e.id)}))})})]})}})})}function G(){return Object(a.jsx)(X.Consumer,{children:function(){return Object(a.jsx)(u,{tabsContent:Object(a.jsx)("h2",{children:"Kennel"}),mainContent:"it's exciting"})}})}function Q(){return Object(a.jsx)(X.Consumer,{children:function(e){var t=e.isCurrentViewFactory,n=e.isCurrentViewKennel,r=e.isCurrentViewOverview,c=e.showFactory,i=e.showKennel,s=e.showOverview;return Object(a.jsx)(T.Consumer,{children:function(e){var o=e.totalCoins;return Object(a.jsxs)("header",{children:[Object(a.jsx)("h1",{role:"button",onClick:s,children:"Robot Pet Factory"}),Object(a.jsx)("nav",{children:Object(a.jsxs)("ol",{children:[Object(a.jsx)("li",{className:r()?"current":"",role:"button",onClick:s,children:"Overview"}),Object(a.jsx)("li",{className:t()?"current":"",role:"button",onClick:c,children:"Factory"}),Object(a.jsx)("li",{className:n()?"current":"",role:"button",onClick:i,children:"Kennel"})]})}),Object(a.jsxs)("div",{children:[o," C"]})]})}})}})}var H="OVERVIEW",q="FACTORY",z="KENNEL",X=Object(r.createContext)();var Z=function(){var e,t=Object(r.useState)(H),n=Object(s.a)(t,2),c=n[0],i=n[1];return e=c===q?Object(a.jsx)(L,{}):c===z?Object(a.jsx)(G,{}):Object(a.jsx)(o,{}),Object(a.jsx)(X.Provider,{value:{showOverview:function(){return i(H)},showFactory:function(){return i(q)},showKennel:function(){return i(z)},isCurrentViewOverview:function(){return c===H},isCurrentViewFactory:function(){return c===q},isCurrentViewKennel:function(){return c===z}},children:Object(a.jsx)(J,{children:Object(a.jsxs)("div",{className:"dashboard",children:[Object(a.jsx)(Q,{}),e]})})})},$=function(e){e&&e instanceof Function&&n.e(3).then(n.bind(null,18)).then((function(t){var n=t.getCLS,r=t.getFID,c=t.getFCP,i=t.getLCP,s=t.getTTFB;n(e),r(e),c(e),i(e),s(e)}))};i.a.render(Object(a.jsx)(Z,{}),document.getElementById("root")),$()}},[[17,1,2]]]);
//# sourceMappingURL=main.0115e641.chunk.js.map