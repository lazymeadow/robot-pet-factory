(this["webpackJsonprobot-pets"]=this["webpackJsonprobot-pets"]||[]).push([[0],{15:function(e,t,n){},16:function(e,t,n){},18:function(e,t,n){"use strict";n.r(t);var r=n(3),c=n(9),i=n.n(c),a=(n(15),n(2)),s=(n(16),n(8)),o=n(1),l=n(10),u=function e(t,n,r,c,i){var a=this;Object(l.a)(this,e),this.id=(e.workerCount++).toString().padStart(8,"0"),this.name=t,this.description=n,this.duration=r,this.clickQuantity=c,this.cost=i,this.count=0,this.addWorker=function(){return a.count++}};u.workerCount=0;var d,j,b=new u("Mouse Droid","They don't do much, but they can make 1 wire every 3 seconds. How? You don't wanna know.",3e3,1,25),h={factory:[b]},p=n(4),O="PART_1",v="PART_2",f=(d={},Object(p.a)(d,O,{singular:"wire",plural:"wires"}),Object(p.a)(d,v,{singular:"screw",plural:"screws"}),d),m=function(e){return f[e].plural.charAt(0).toUpperCase()+f[e].plural.slice(1,f[e].plural.length)},x=function(e,t){return"Every click makes 1 ".concat(f[e].singular,", worth ").concat(t," C.")},C=function(e,t,n){return 3===n?"You make so many ".concat(f[e].plural,", ").concat(t*Math.pow(2,n)," per click."):"Every click makes ".concat(t*Math.pow(2,n)," ").concat(t>1?f[e].singular:f[e].plural,".")},y=function(e,t,n,r){return 1===r?"Your ".concat(f[e].plural," are better, and are worth ").concat(n*Math.pow(t,2)," C each"):2===r?"Your ".concat(f[e].plural," are even better, and are worth ").concat(n*Math.pow(t,3)," C each"):3===r?"You make the best possible ".concat(f[e].plural,", and are worth ").concat(n*Math.pow(t,4)," C each"):void 0},g=function(e,t){return 1===t?"More ".concat(f[e].plural):2===t?"Even more ".concat(f[e].plural):3===t?"So many ".concat(f[e].plural):void 0},w=function(e,t){return 1===t?"Better ".concat(f[e].plural):2===t?"Even better ".concat(f[e].plural):3===t?"The best ".concat(f[e].plural):void 0},_=(j={},Object(p.a)(j,O,{unlock:{id:"w_base_0",cost:0,incrementer:1,multiplier:2},quantity:[{id:"w_quant_0",cost:100,level:1,upgradeDependencies:["w_base_0"]},{id:"w_quant_1",cost:200,level:2,upgradeDependencies:["w_quant_0"]},{id:"w_quant_2",cost:500,level:3,upgradeDependencies:["w_quant_1"]}],quality:[{id:"w_qual_0",cost:100,level:1,upgradeDependencies:["w_base_0"]},{id:"w_qual_1",cost:200,level:2,upgradeDependencies:["w_qual_0"]},{id:"w_qual_2",cost:500,level:3,upgradeDependencies:["w_qual_1"]}]}),Object(p.a)(j,v,{unlock:{id:"s_base_0",cost:500,incrementer:2,multiplier:3,upgradeDependencies:["w_quant_1","w_qual_1"]},quantity:[{id:"s_quant_0",cost:750,level:1,upgradeDependencies:["s_base_0"]},{id:"s_quant_1",cost:1500,level:2,upgradeDependencies:["s_quant_0"]},{id:"s_quant_2",cost:5e3,level:3,upgradeDependencies:["s_quant_1"]}],quality:[{id:"s_qual_0",cost:1e3,level:1,upgradeDependencies:["s_base_0"]},{id:"s_qual_1",cost:2e3,level:2,upgradeDependencies:["s_qual_0"]},{id:"s_qual_2",cost:3e3,level:3,upgradeDependencies:["s_qual_1"]}]}),j),k=function(e){for(var t=0,n=Object.entries(_);t<n.length;t++){var r=Object(a.a)(n[t],2),c=r[0],i=r[1],s=i.unlock,l=i.quantity,u=i.quality;if(s.id===e)return Object(o.a)(Object(o.a)({},s),{},{type:c});var d=l.find((function(t){return t.id===e}));if(d)return Object(o.a)(Object(o.a)({},d),{},{incrementer:s.incrementer,type:c});var j=u.find((function(t){return t.id===e}));if(j)return Object(o.a)(Object(o.a)({},j),{},{multiplier:s.multiplier,type:c})}},q=function(e){for(var t=0,n=Object.entries(_);t<n.length;t++){var r=Object(a.a)(n[t],2),c=r[0],i=r[1],s=i.unlock,o=i.quantity,l=i.quality;if(s.id===e)return{name:m(c),description:x(c,s.incrementer),cost:s.cost};var u=o.find((function(t){return t.id===e}));if(u)return{name:g(c,u.level),description:C(c,u.incrementer,u.level),cost:s.cost};var d=l.find((function(t){return t.id===e}));if(d)return{name:w(c,d.level),description:y(c,d.multiplier,d.incrementer,d.level),cost:s.cost}}},D=function(e,t){return e.findIndex((function(e){return e===t.id}))>=0},K=function(e,t){return!D(e,t)&&(!t.hasOwnProperty("upgradeDependencies")||t.upgradeDependencies.reduce((function(t,n){return t&&D(e,{id:n})}),!0))},N=function(){return[_[O].unlock.id]},S=n(0),T=Object(r.createContext)(),A="CLEAR_GAME_STATE",E="ADD_COINS",F="AUTO_ADD_COINS",W="RECORD_CLICK",Y="BUY_UPGRADE",P="BUY_WORKER",R=function(e){var t=Object(o.a)({},e);localStorage.setItem("gameState",JSON.stringify(t))},U=function(){var e=JSON.parse(localStorage.getItem("gameState"));return null!==e?e:{totalClicks:0,totalCoins:0,lifetimeCoins:0,workers:[],upgrades:N()}},I=function(e,t){var n,r,c,i;switch(t.type){case W:var l=e.totalClicks+1;return n=Object(o.a)(Object(o.a)({},e),{},{totalClicks:l}),R(n),n;case E:var u=function(e){var t={};return e.upgrades.forEach((function(e){var n=k(e),r=n.type,c=n.level,i=n.incrementer,a=n.multiplier;t.hasOwnProperty(r)?(i&&(t[r].incrementer+=i),a&&c>t[r].maxLevel&&(t[r].multiplier=a,t[r].maxLevel=c)):t[r]={incrementer:i,multiplier:a,maxLevel:c||0}})),Object.entries(t).reduce((function(e,t){var n=Object(a.a)(t,2)[1],r=n.incrementer,c=n.multiplier,i=n.maxLevel;return e+r*Math.pow(c,i)}),0)}(e);return r=e.totalCoins+u,n=Object(o.a)(Object(o.a)({},e),{},{totalCoins:r,lifetimeCoins:e.lifetimeCoins+u}),R(n),n;case F:var d=t.payload.coins;return r=e.totalCoins+d,n=Object(o.a)(Object(o.a)({},e),{},{totalCoins:r,lifetimeCoins:e.lifetimeCoins+d}),R(n),n;case Y:if(e.upgrades.findIndex((function(e){return e.id===t.payload.id}))>=0)return e;var j=k(t.payload.id);return e.totalCoins<j.cost?e:(n=Object(o.a)(Object(o.a)({},e),{},{upgrades:[].concat(Object(s.a)(e.upgrades),[j.id]),totalCoins:e.totalCoins-j.cost}),R(n),n);case P:var b=e.workers.find((function(e){return e.id===t.payload.id}));if(b){if(b.cost>e.totalCoins)return e;b.addWorker(),n=Object(o.a)(Object(o.a)({},e),{},{totalCoins:e.totalCoins-b.cost})}else{var p=(c=t.payload.type,i=t.payload.id,h[c].find((function(e){return e.id===i})));if(p.cost>e.totalCoins)return e;p.addWorker(),n=Object(o.a)(Object(o.a)({},e),{},{workers:[].concat(Object(s.a)(e.workers),[p]),totalCoins:e.totalCoins-p.cost}),R(n)}return n;case A:return n={totalClicks:0,totalCoins:0,lifetimeCoins:0,workers:[],upgrades:N()},R(n),n;default:return e}};function L(e){var t=e.children,n=Object(r.useReducer)(I,{},U),c=Object(a.a)(n,2),i=c[0],s=c[1];return Object(S.jsx)(T.Provider,{value:Object(o.a)(Object(o.a)({},i),{},{recordClick:function(){return s({type:W})},addCoins:function(){return s({type:E})},buyUpgrade:function(e,t){return s({type:Y,payload:{type:e,id:t}})},buyWorker:function(e,t){s({type:P,payload:{type:e,id:t}})},getAvailableUpgrades:function(){return function(e){for(var t=e.upgrades,n=[],r=function(){var e=Object(a.a)(i[c],2),r=e[0],s=e[1],o=s.unlock,l=s.quantity,u=s.quality,d=[];D(t,o)?d=(d=d.concat(l.filter((function(e){return K(t,e)})).map((function(e){return{id:e.id,cost:e.cost,name:g(r,e.level),description:C(r,o.incrementer,e.level)}})))).concat(u.filter((function(e){return K(t,e)})).map((function(e){return{id:e.id,cost:e.cost,name:w(r,e.level),description:y(r,o.incrementer,e.level)}}))):K(t,o)&&d.push({id:o.id,cost:o.cost,name:m(r),description:x(r,o.incrementer)}),d.length>0&&n.push({categoryName:m(r),upgrades:d})},c=0,i=Object.entries(_);c<i.length;c++)r();return n}(i)},getAcquiredUpgrades:function(){return i.upgrades.map(q)},getAvailableWorkers:function(e){return[]},canSeeWorkers:!1,resetGame:function(){return s({type:A})}}),children:t})}function M(){return Object(S.jsx)(ne.Consumer,{children:function(e){var t=e.showFactory,n=e.showKennel;return Object(S.jsx)(T.Consumer,{children:function(e){var r=e.resetGame;return Object(S.jsxs)("div",{className:"overview",children:[Object(S.jsxs)("div",{children:[Object(S.jsx)("h2",{children:"Factory"}),Object(S.jsxs)("ul",{children:[Object(S.jsx)("li",{children:"Interesting Stats"}),Object(S.jsx)("li",{children:"What are they"})]}),Object(S.jsx)("button",{onClick:t,children:"Go to Factory"})]}),Object(S.jsxs)("div",{children:[Object(S.jsx)("h2",{children:"Tools"}),Object(S.jsx)("p",{children:"Hey. You probably want to do this if your game seems broken."}),Object(S.jsx)("button",{onClick:r,children:"Reset Game"})]}),Object(S.jsxs)("div",{children:[Object(S.jsx)("h2",{children:"Pet Kennel"}),Object(S.jsxs)("ul",{children:[Object(S.jsx)("li",{children:"Interesting Stats"}),Object(S.jsx)("li",{children:"What are they"})]}),Object(S.jsx)("button",{onClick:n,children:"Go to Pets"})]})]})}})}})}function V(e){var t=e.tabsContent,n=e.mainContent;return Object(S.jsxs)("div",{className:"two-panel",children:[Object(S.jsx)("div",{className:"tabs-panel",children:t}),Object(S.jsx)("div",{className:"main-panel",children:n})]})}var G=Object(r.createContext)();function B(e){var t=e.children,n=e.defaultTabKey,c=Object(r.useState)(n),i=Object(a.a)(c,2),s=i[0],o=i[1];return Object(S.jsx)(G.Provider,{value:{currentTab:s,setCurrentTab:o,isCurrentTab:function(e){return s===e}},children:t})}function J(e){var t=e.children;return Object(S.jsx)("div",{className:"tabs-container",children:t})}function H(e){var t=e.children,n=e.tabKey;return Object(S.jsx)(G.Consumer,{children:function(e){var r=e.isCurrentTab,c=e.setCurrentTab;return Object(S.jsx)("div",{className:"tab".concat(r(n)?" current":""),role:"button",onClick:r(n)?null:function(){return c(n)},children:t})}})}function Q(e){var t=e.children,n=e.tabKey;return Object(S.jsx)(G.Consumer,{children:function(e){return(0,e.isCurrentTab)(n)&&Object(S.jsx)("div",{className:"tab-content",children:t})}})}function z(){return Object(S.jsx)(V,{tabsContent:Object(S.jsx)(T.Consumer,{children:function(e){var t=e.buyUpgrade,n=e.buyWorker,r=e.canSeeWorkers,c=e.getAvailableUpgrades,i=e.getAvailableWorkers,a=e.lifetimeCoins,s=e.totalClicks,o=e.totalCoins,l=c("factory"),u=i("factory");return Object(S.jsx)(S.Fragment,{children:Object(S.jsxs)(B,{defaultTabKey:"upgrades",children:[Object(S.jsxs)(J,{children:[Object(S.jsx)(H,{tabKey:"upgrades",children:"Upgrades"}),r&&Object(S.jsx)(H,{tabKey:"workers",children:"Workers"}),Object(S.jsx)(H,{tabKey:"stats",children:"Stats"}),Object(S.jsx)(H,{tabKey:"achievements",children:"Achievements"})]}),Object(S.jsxs)(Q,{tabKey:"upgrades",children:[Object(S.jsxs)("span",{children:[o," C"]}),l.map((function(e){var n=e.categoryName,r=e.upgrades;return Object(S.jsxs)(S.Fragment,{children:[Object(S.jsx)("h3",{children:n}),r.map((function(e){var n="",r="";return e.purchased?(n="unavailable",r="You already have this!"):e.cost>o?(n="expensive",r="You can't buy this yet."):r="You can buy this!",Object(S.jsxs)("div",{className:"upgrade ".concat(n),role:"button",onClick:function(){return t("factory",e.id)},children:[Object(S.jsxs)("div",{className:"upgrade-title",children:[Object(S.jsx)("h4",{children:e.name}),!e.purchased&&Object(S.jsxs)("span",{children:["COST: ",e.cost," C"]})]}),Object(S.jsx)("p",{children:e.description}),Object(S.jsx)("small",{children:r})]},e.id)}))]})}))]}),Object(S.jsx)(Q,{tabKey:"stats",children:Object(S.jsxs)("ul",{children:[Object(S.jsxs)("li",{children:["Click Count: ",s]}),Object(S.jsxs)("li",{children:["Total Coins Earned: ",a," C"]})]})}),Object(S.jsx)(Q,{tabKey:"achievements",children:"Achivements go here"}),Object(S.jsx)(Q,{tabKey:"workers",children:u.map((function(e){var t="",r="";return e.cost>o?(t="expensive",r="You can't buy this right now."):r="You can buy this!",Object(S.jsxs)("div",{className:"upgrade ".concat(t),role:"button",onClick:function(){return n("factory",e.id)},children:[Object(S.jsxs)("div",{className:"upgrade-title",children:[Object(S.jsxs)("h3",{children:[e.name," (",e.count,")"]}),Object(S.jsxs)("span",{children:["COST: ",e.cost," C"]})]}),Object(S.jsx)("p",{children:e.description}),Object(S.jsx)("small",{children:r})]},e.id)}))})]})})}}),mainContent:Object(S.jsx)(T.Consumer,{children:function(e){var t=e.addCoins,n=e.recordClick,r=(0,e.getAcquiredUpgrades)();return Object(S.jsxs)(S.Fragment,{children:[Object(S.jsx)("button",{id:"factory",onClick:function(){n(),t()},children:Object(S.jsx)("img",{src:"",alt:"the factory - click to make parts"})}),Object(S.jsxs)("div",{children:[Object(S.jsx)("h3",{children:"Upgrades you have:"}),Object(S.jsx)("ol",{children:r.map((function(e){return Object(S.jsx)("li",{children:e.name},e.id)}))})]})]})}})})}function X(){return Object(S.jsx)(ne.Consumer,{children:function(){return Object(S.jsx)(V,{tabsContent:Object(S.jsx)("h2",{children:"Kennel"}),mainContent:"it's exciting"})}})}function Z(){return Object(S.jsx)(ne.Consumer,{children:function(e){var t=e.isCurrentViewFactory,n=e.isCurrentViewKennel,r=e.isCurrentViewOverview,c=e.showFactory,i=e.showKennel,a=e.showOverview;return Object(S.jsx)(T.Consumer,{children:function(e){var s=e.totalCoins;return Object(S.jsxs)("header",{children:[Object(S.jsx)("h1",{role:"button",onClick:a,children:"Robot Pet Factory"}),Object(S.jsx)("nav",{children:Object(S.jsxs)("ol",{children:[Object(S.jsx)("li",{className:r()?"current":"",role:"button",onClick:a,children:"Overview"}),Object(S.jsx)("li",{className:t()?"current":"",role:"button",onClick:c,children:"Factory"}),Object(S.jsx)("li",{className:n()?"current":"",role:"button",onClick:i,children:"Kennel"})]})}),Object(S.jsxs)("div",{children:[s," C"]})]})}})}})}var $="OVERVIEW",ee="FACTORY",te="KENNEL",ne=Object(r.createContext)();var re=function(){var e,t=Object(r.useState)($),n=Object(a.a)(t,2),c=n[0],i=n[1];return e=c===ee?Object(S.jsx)(z,{}):c===te?Object(S.jsx)(X,{}):Object(S.jsx)(M,{}),Object(S.jsx)(ne.Provider,{value:{showOverview:function(){return i($)},showFactory:function(){return i(ee)},showKennel:function(){return i(te)},isCurrentViewOverview:function(){return c===$},isCurrentViewFactory:function(){return c===ee},isCurrentViewKennel:function(){return c===te}},children:Object(S.jsx)(L,{children:Object(S.jsxs)("div",{className:"dashboard",children:[Object(S.jsx)(Z,{}),e]})})})},ce=function(e){e&&e instanceof Function&&n.e(3).then(n.bind(null,19)).then((function(t){var n=t.getCLS,r=t.getFID,c=t.getFCP,i=t.getLCP,a=t.getTTFB;n(e),r(e),c(e),i(e),a(e)}))};i.a.render(Object(S.jsx)(re,{}),document.getElementById("root")),ce()}},[[18,1,2]]]);
//# sourceMappingURL=main.563a33b0.chunk.js.map