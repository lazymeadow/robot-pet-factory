(this["webpackJsonprobot-pets"]=this["webpackJsonprobot-pets"]||[]).push([[0],{13:function(e,t,n){},14:function(e,t,n){},16:function(e,t,n){"use strict";n.r(t);var r=n(1),c=n.n(r),i=n(7),s=n.n(i),a=(n(13),n(3)),o=(n(14),n(0));function l(){return Object(o.jsx)(U.Consumer,{children:function(e){var t=e.showFactory,n=e.showKennel;return Object(o.jsxs)("div",{className:"overview",children:[Object(o.jsxs)("div",{children:[Object(o.jsx)("h2",{children:"Factory"}),Object(o.jsxs)("ul",{children:[Object(o.jsx)("li",{children:"Interesting Stats"}),Object(o.jsx)("li",{children:"What are they"})]}),Object(o.jsx)("button",{onClick:t,children:"Go to Factory"})]}),Object(o.jsxs)("div",{children:[Object(o.jsx)("h2",{children:"Pet Kennel"}),Object(o.jsxs)("ul",{children:[Object(o.jsx)("li",{children:"Interesting Stats"}),Object(o.jsx)("li",{children:"What are they"})]}),Object(o.jsx)("button",{onClick:n,children:"Go to Pets"})]})]})}})}function u(e){var t=e.tabsContent,n=e.mainContent;return Object(o.jsxs)("div",{className:"two-panel",children:[Object(o.jsx)("div",{className:"tabs-panel",children:t}),Object(o.jsx)("div",{className:"main-panel",children:n})]})}var j=Object(r.createContext)();function d(e){var t=e.children,n=Object(r.useState)(0),c=Object(a.a)(n,2),i=c[0],s=c[1];return Object(o.jsx)(j.Provider,{value:{currentTab:i,setCurrentTab:s,isCurrentTab:function(e){return i===e}},children:t})}function b(e){var t=e.children;return Object(o.jsx)("div",{className:"tabs-container",children:t})}function h(e){var t=e.children,n=e.tabKey;return Object(o.jsx)(j.Consumer,{children:function(e){var r=e.isCurrentTab,c=e.setCurrentTab;return Object(o.jsx)("div",{className:"tab".concat(r(n)?" current":""),role:"button",onClick:r(n)?null:function(){return c(n)},children:t})}})}function O(e){var t=e.children,n=e.tabKey;return Object(o.jsx)(j.Consumer,{children:function(e){return(0,e.isCurrentTab)(n)&&Object(o.jsx)("div",{className:"tab-content",children:t})}})}var x=n(8),C=n(2),f=[{id:"wires0",name:"Wires",description:"Every click makes a wire.",clickIncrement:0,clickMultiplier:1,cost:0,isUnlocked:function(){return!0}}],v={factory:[].concat(f,[{id:"wires1",name:"More Wires",description:"Every click makes you two wires",clickIncrement:1,clickMultiplier:1,cost:100,isUnlocked:function(e){return e.upgrades.findIndex((function(e){return"wires0"===e.id}))>=0}}])},m=Object(r.createContext)(),p="ADD_COINS",y="RECORD_CLICK",g="BUY_UPGRADE",k=function(e){localStorage.setItem("gameState",JSON.stringify(e))},w=function(e,t){var n;switch(t.type){case y:var r=e.totalClicks+1;return n=Object(C.a)(Object(C.a)({},e),{},{totalClicks:r}),k(n),n;case p:var c=(1+e.upgrades.reduce((function(e,t){return e+t.clickIncrement}),0))*e.upgrades.reduce((function(e,t){return e*t.clickMultiplier}),1),i=e.totalCoins+c;return n=Object(C.a)(Object(C.a)({},e),{},{totalCoins:i,lifetimeCoins:e.lifetimeCoins+c}),k(n),n;case g:if(e.upgrades.findIndex((function(e){return e.id===t.payload.id}))>=0)return e;var s=v[t.payload.type].find((function(e){return e.id===t.payload.id}));return e.totalCoins<s.cost?e:(n=Object(C.a)(Object(C.a)({},e),{},{upgrades:[].concat(Object(x.a)(e.upgrades),[s]),totalCoins:e.totalCoins-s.cost}),k(n),n);default:return e}};function N(e){var t=e.children,n=Object(r.useReducer)(w,{},(function(){var e=JSON.parse(localStorage.getItem("gameState"));return null!==e?e:{totalClicks:0,totalCoins:0,lifetimeCoins:0,upgrades:f}})),c=Object(a.a)(n,2),i=c[0],s=c[1];return Object(o.jsx)(m.Provider,{value:Object(C.a)(Object(C.a)({},i),{},{recordClick:function(){return s({type:y})},addCoins:function(){return s({type:p})},buyUpgrade:function(e,t){return s({type:g,payload:{type:e,id:t}})},getAvailableUpgrades:function(e){return v[e].filter((function(e){return e.purchased=i.upgrades.findIndex((function(t){return t.id===e.id}))>=0,e.isUnlocked(i)}))}}),children:t})}function K(){return Object(o.jsx)(u,{tabsContent:Object(o.jsx)(m.Consumer,{children:function(e){var t=e.buyUpgrade,n=e.getAvailableUpgrades,r=e.lifetimeCoins,c=e.totalClicks,i=e.totalCoins;return Object(o.jsxs)(o.Fragment,{children:[Object(o.jsx)("h2",{children:"Factory"}),Object(o.jsxs)("span",{children:[i," C"]}),Object(o.jsxs)(d,{children:[Object(o.jsxs)(b,{children:[Object(o.jsx)(h,{tabKey:0,children:"Upgrades"}),Object(o.jsx)(h,{tabKey:1,children:"Stats"}),Object(o.jsx)(h,{tabKey:2,children:"Achievements"})]}),Object(o.jsx)(O,{tabKey:0,children:n("factory").map((function(e){var n="",r="";return e.purchased?(n="unavailable",r="You already have this!"):e.cost>i?(n="expensive",r="You can't buy this yet."):r="You can buy this!",Object(o.jsxs)("div",{className:"upgrade ".concat(n),role:"button",onClick:function(){return t("factory",e.id)},children:[Object(o.jsxs)("div",{className:"upgrade-title",children:[Object(o.jsx)("h3",{children:e.name}),!e.purchased&&Object(o.jsxs)("span",{children:["COST: ",e.cost," C"]})]}),Object(o.jsx)("p",{children:e.description}),Object(o.jsx)("small",{children:r})]},e.id)}))}),Object(o.jsx)(O,{tabKey:1,children:Object(o.jsxs)("ul",{children:[Object(o.jsxs)("li",{children:["Click Count: ",c]}),Object(o.jsxs)("li",{children:["Total Coins Earned: ",r]})]})}),Object(o.jsx)(O,{tabKey:2,children:"Achivements go here"})]})]})}}),mainContent:Object(o.jsx)(m.Consumer,{children:function(e){var t=e.addCoins,n=e.recordClick,r=e.upgrades;return Object(o.jsxs)(o.Fragment,{children:[Object(o.jsx)("button",{className:"factory",onClick:function(){n(),t()},children:Object(o.jsx)("img",{src:"",alt:"the factory"})}),Object(o.jsx)("div",{children:Object(o.jsx)("ol",{children:r.map((function(e){return Object(o.jsx)("li",{children:e.name},e.id)}))})})]})}})})}function F(){return Object(o.jsx)(U.Consumer,{children:function(){return Object(o.jsx)(u,{tabsContent:Object(o.jsx)("h2",{children:"Kennel"}),mainContent:"it's exciting"})}})}function I(){return Object(o.jsx)(U.Consumer,{children:function(e){var t=e.isCurrentViewFactory,n=e.isCurrentViewKennel,r=e.isCurrentViewOverview,c=e.showFactory,i=e.showKennel,s=e.showOverview;return Object(o.jsx)(m.Consumer,{children:function(e){var a=e.totalCoins;return Object(o.jsxs)("header",{children:[Object(o.jsx)("h1",{role:"button",onClick:s,children:"Robot Pet Factory"}),Object(o.jsx)("nav",{children:Object(o.jsxs)("ol",{children:[Object(o.jsx)("li",{className:r()?"current":"",role:"button",onClick:s,children:"Overview"}),Object(o.jsx)("li",{className:t()?"current":"",role:"button",onClick:c,children:"Factory"}),Object(o.jsx)("li",{className:n()?"current":"",role:"button",onClick:i,children:"Kennel"})]})}),Object(o.jsxs)("div",{children:[a," C"]})]})}})}})}var S="OVERVIEW",T="FACTORY",E="KENNEL",U=Object(r.createContext)();var P=function(){var e,t=Object(r.useState)(S),n=Object(a.a)(t,2),c=n[0],i=n[1];return e=c===T?Object(o.jsx)(K,{}):c===E?Object(o.jsx)(F,{}):Object(o.jsx)(l,{}),Object(o.jsx)(U.Provider,{value:{showOverview:function(){return i(S)},showFactory:function(){return i(T)},showKennel:function(){return i(E)},isCurrentViewOverview:function(){return c===S},isCurrentViewFactory:function(){return c===T},isCurrentViewKennel:function(){return c===E}},children:Object(o.jsx)(N,{children:Object(o.jsxs)("div",{className:"dashboard",children:[Object(o.jsx)(I,{}),e]})})})},V=function(e){e&&e instanceof Function&&n.e(3).then(n.bind(null,17)).then((function(t){var n=t.getCLS,r=t.getFID,c=t.getFCP,i=t.getLCP,s=t.getTTFB;n(e),r(e),c(e),i(e),s(e)}))};s.a.render(Object(o.jsx)(c.a.StrictMode,{children:Object(o.jsx)(P,{})}),document.getElementById("root")),V()}},[[16,1,2]]]);
//# sourceMappingURL=main.890c6962.chunk.js.map