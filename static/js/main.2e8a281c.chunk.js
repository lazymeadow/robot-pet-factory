(this["webpackJsonprobot-pets"]=this["webpackJsonprobot-pets"]||[]).push([[0],{14:function(e,t,n){},15:function(e,t,n){},17:function(e,t,n){"use strict";n.r(t);var r=n(1),c=n.n(r),i=n(7),s=n.n(i),a=(n(14),n(3)),o=(n(15),n(0));function l(){return Object(o.jsx)(B.Consumer,{children:function(e){var t=e.showFactory,n=e.showKennel;return Object(o.jsxs)("div",{className:"overview",children:[Object(o.jsxs)("div",{children:[Object(o.jsx)("h2",{children:"Factory"}),Object(o.jsxs)("ul",{children:[Object(o.jsx)("li",{children:"Interesting Stats"}),Object(o.jsx)("li",{children:"What are they"})]}),Object(o.jsx)("button",{onClick:t,children:"Go to Factory"})]}),Object(o.jsxs)("div",{children:[Object(o.jsx)("h2",{children:"Pet Kennel"}),Object(o.jsxs)("ul",{children:[Object(o.jsx)("li",{children:"Interesting Stats"}),Object(o.jsx)("li",{children:"What are they"})]}),Object(o.jsx)("button",{onClick:n,children:"Go to Pets"})]})]})}})}function u(e){var t=e.tabsContent,n=e.mainContent;return Object(o.jsxs)("div",{className:"two-panel",children:[Object(o.jsx)("div",{className:"tabs-panel",children:t}),Object(o.jsx)("div",{className:"main-panel",children:n})]})}var d=Object(r.createContext)();function j(e){var t=e.children,n=Object(r.useState)(0),c=Object(a.a)(n,2),i=c[0],s=c[1];return Object(o.jsx)(d.Provider,{value:{currentTab:i,setCurrentTab:s,isCurrentTab:function(e){return i===e}},children:t})}function b(e){var t=e.children;return Object(o.jsx)("div",{className:"tabs-container",children:t})}function h(e){var t=e.children,n=e.tabKey;return Object(o.jsx)(d.Consumer,{children:function(e){var r=e.isCurrentTab,c=e.setCurrentTab;return Object(o.jsx)("div",{className:"tab".concat(r(n)?" current":""),role:"button",onClick:r(n)?null:function(){return c(n)},children:t})}})}function O(e){var t=e.children,n=e.tabKey;return Object(o.jsx)(d.Consumer,{children:function(e){return(0,e.isCurrentTab)(n)&&Object(o.jsx)("div",{className:"tab-content",children:t})}})}var x=n(9),f=n(2),v=n(8),C=function e(t,n,r){var c=arguments.length>3&&void 0!==arguments[3]?arguments[3]:0,i=arguments.length>4&&void 0!==arguments[4]?arguments[4]:1,s=arguments.length>5&&void 0!==arguments[5]?arguments[5]:0,a=arguments.length>6&&void 0!==arguments[6]?arguments[6]:function(){return!0};Object(v.a)(this,e),this.id=t,this.name=n,this.description=r,this.clickIncrement=c,this.clickMultiplier=i,this.cost=s,this.isUnlocked=a};C.newFreeIncrementUpgrade=function(e,t,n,r){return new C(e,t,n,r)},C.newIncrementUpgrade=function(e,t,n,r,c,i){return new C(e,t,n,r,1,c,i)},C.newMultiplierUpgrade=function(e,t,n,r,c,i){return new C(e,t,n,0,r,c,i)};var p=C.newFreeIncrementUpgrade("wires0","Wires","Every click makes a wire. Wires are worth 1 coin.",1),m=C.newIncrementUpgrade("wires1","More Wires","Every click makes two wires.",1,100,(function(e){return F(e,p.id)})),g=C.newIncrementUpgrade("wires2","Even More Wires","Every click makes four wires.",2,500,(function(e){return F(e,m.id)})),w=C.newMultiplierUpgrade("better1","Better Wires","Your wires are better, and are worth twice as much.",2,100,(function(e){return F(e,p.id)})),y=C.newMultiplierUpgrade("better2","Even Better Wires","Your wires are better, and are worth four times as much.",2,500,(function(e){return F(e,w.id)&&F(e,g.id)})),k=[p],F=function(e,t){return e.upgrades.findIndex((function(e){return e.id===t}))>=0},I={factory:[].concat(k,[m,w,g,y])},N=Object(r.createContext)(),K="ADD_COINS",U="RECORD_CLICK",S="BUY_UPGRADE",E=function(e){localStorage.setItem("gameState",JSON.stringify(e))},T=function(e,t){var n;switch(t.type){case U:var r=e.totalClicks+1;return n=Object(f.a)(Object(f.a)({},e),{},{totalClicks:r}),E(n),n;case K:var c=(1+e.upgrades.reduce((function(e,t){return e+t.clickIncrement}),0))*e.upgrades.reduce((function(e,t){return e*t.clickMultiplier}),1),i=e.totalCoins+c;return n=Object(f.a)(Object(f.a)({},e),{},{totalCoins:i,lifetimeCoins:e.lifetimeCoins+c}),E(n),n;case S:if(e.upgrades.findIndex((function(e){return e.id===t.payload.id}))>=0)return e;var s=I[t.payload.type].find((function(e){return e.id===t.payload.id}));return e.totalCoins<s.cost?e:(n=Object(f.a)(Object(f.a)({},e),{},{upgrades:[].concat(Object(x.a)(e.upgrades),[s]),totalCoins:e.totalCoins-s.cost}),E(n),n);default:return e}};function P(e){var t=e.children,n=Object(r.useReducer)(T,{},(function(){var e=JSON.parse(localStorage.getItem("gameState"));return null!==e?e:{totalClicks:0,totalCoins:0,lifetimeCoins:0,upgrades:k}})),c=Object(a.a)(n,2),i=c[0],s=c[1];return Object(o.jsx)(N.Provider,{value:Object(f.a)(Object(f.a)({},i),{},{recordClick:function(){return s({type:U})},addCoins:function(){return s({type:K})},buyUpgrade:function(e,t){return s({type:S,payload:{type:e,id:t}})},getAvailableUpgrades:function(e){return I[e].filter((function(e){return e.purchased=i.upgrades.findIndex((function(t){return t.id===e.id}))>=0,e.isUnlocked(i)}))}}),children:t})}function W(){return Object(o.jsx)(u,{tabsContent:Object(o.jsx)(N.Consumer,{children:function(e){var t=e.buyUpgrade,n=e.getAvailableUpgrades,r=e.lifetimeCoins,c=e.totalClicks,i=e.totalCoins;return Object(o.jsxs)(o.Fragment,{children:[Object(o.jsx)("h2",{children:"Factory"}),Object(o.jsxs)("span",{children:[i," C"]}),Object(o.jsxs)(j,{children:[Object(o.jsxs)(b,{children:[Object(o.jsx)(h,{tabKey:0,children:"Upgrades"}),Object(o.jsx)(h,{tabKey:1,children:"Stats"}),Object(o.jsx)(h,{tabKey:2,children:"Achievements"})]}),Object(o.jsx)(O,{tabKey:0,children:n("factory").map((function(e){var n="",r="";return e.purchased?(n="unavailable",r="You already have this!"):e.cost>i?(n="expensive",r="You can't buy this yet."):r="You can buy this!",Object(o.jsxs)("div",{className:"upgrade ".concat(n),role:"button",onClick:function(){return t("factory",e.id)},children:[Object(o.jsxs)("div",{className:"upgrade-title",children:[Object(o.jsx)("h3",{children:e.name}),!e.purchased&&Object(o.jsxs)("span",{children:["COST: ",e.cost," C"]})]}),Object(o.jsx)("p",{children:e.description}),Object(o.jsx)("small",{children:r})]},e.id)}))}),Object(o.jsx)(O,{tabKey:1,children:Object(o.jsxs)("ul",{children:[Object(o.jsxs)("li",{children:["Click Count: ",c]}),Object(o.jsxs)("li",{children:["Total Coins Earned: ",r," C"]})]})}),Object(o.jsx)(O,{tabKey:2,children:"Achivements go here"})]})]})}}),mainContent:Object(o.jsx)(N.Consumer,{children:function(e){var t=e.addCoins,n=e.recordClick,r=e.upgrades;return Object(o.jsxs)(o.Fragment,{children:[Object(o.jsx)("button",{className:"factory",onClick:function(){n(),t()},children:Object(o.jsx)("img",{src:"",alt:"the factory"})}),Object(o.jsx)("div",{children:Object(o.jsx)("ol",{children:r.map((function(e){return Object(o.jsx)("li",{children:e.name},e.id)}))})})]})}})})}function M(){return Object(o.jsx)(B.Consumer,{children:function(){return Object(o.jsx)(u,{tabsContent:Object(o.jsx)("h2",{children:"Kennel"}),mainContent:"it's exciting"})}})}function V(){return Object(o.jsx)(B.Consumer,{children:function(e){var t=e.isCurrentViewFactory,n=e.isCurrentViewKennel,r=e.isCurrentViewOverview,c=e.showFactory,i=e.showKennel,s=e.showOverview;return Object(o.jsx)(N.Consumer,{children:function(e){var a=e.totalCoins;return Object(o.jsxs)("header",{children:[Object(o.jsx)("h1",{role:"button",onClick:s,children:"Robot Pet Factory"}),Object(o.jsx)("nav",{children:Object(o.jsxs)("ol",{children:[Object(o.jsx)("li",{className:r()?"current":"",role:"button",onClick:s,children:"Overview"}),Object(o.jsx)("li",{className:t()?"current":"",role:"button",onClick:c,children:"Factory"}),Object(o.jsx)("li",{className:n()?"current":"",role:"button",onClick:i,children:"Kennel"})]})}),Object(o.jsxs)("div",{children:[a," C"]})]})}})}})}var A="OVERVIEW",R="FACTORY",Y="KENNEL",B=Object(r.createContext)();var D=function(){var e,t=Object(r.useState)(A),n=Object(a.a)(t,2),c=n[0],i=n[1];return e=c===R?Object(o.jsx)(W,{}):c===Y?Object(o.jsx)(M,{}):Object(o.jsx)(l,{}),Object(o.jsx)(B.Provider,{value:{showOverview:function(){return i(A)},showFactory:function(){return i(R)},showKennel:function(){return i(Y)},isCurrentViewOverview:function(){return c===A},isCurrentViewFactory:function(){return c===R},isCurrentViewKennel:function(){return c===Y}},children:Object(o.jsx)(P,{children:Object(o.jsxs)("div",{className:"dashboard",children:[Object(o.jsx)(V,{}),e]})})})},J=function(e){e&&e instanceof Function&&n.e(3).then(n.bind(null,18)).then((function(t){var n=t.getCLS,r=t.getFID,c=t.getFCP,i=t.getLCP,s=t.getTTFB;n(e),r(e),c(e),i(e),s(e)}))};s.a.render(Object(o.jsx)(c.a.StrictMode,{children:Object(o.jsx)(D,{})}),document.getElementById("root")),J()}},[[17,1,2]]]);
//# sourceMappingURL=main.2e8a281c.chunk.js.map